{"layout":{"activeNavigationTab":"project","navigationPanelIsOpen":true,"referencePanelIsOpen":true,"activeSoundTicTab":"volume","tileEditor":{"tileSelectorIsOpen":false,"showGrid":false},"tilemapEditor":{"tilemapSelectorIsOpen":false,"tileSelectorIsOpen":true,"cursorX":-6,"cursorY":7,"showGrid":true},"soundEditor":{"pianoOctave":4,"lastVolumeTic":-1,"lastPitchTic":-1,"lastArpTic":-1},"referenceTabTitle":"Motivation","play":{"stickConsoleToBottom":true},"referenceRoutes":{"about":{"current":["REFERENCE_ABOUT"],"cached":{"REFERENCE_ABOUT":["REFERENCE_ABOUT"]}},"project":{"current":["MOTIVATION"],"cached":{"MOTIVATION":["MOTIVATION"]}},"play":{"current":["CONSOLE"],"cached":{"CONSOLE":["CONSOLE"]}},"code":{"current":["API","API_TILE_DATA"],"cached":{"API":["API","API_TILE_DATA"]}},"tile":{"current":["ARTICLES"],"cached":{"ARTICLES":["ARTICLES"]}},"tilemap":{"current":["ARTICLES"],"cached":{"ARTICLES":["ARTICLES"]}},"sound":{"current":["HOTKEYS"],"cached":{"HOTKEYS":["HOTKEYS"]}},"publish":{"current":["MOTIVATION"],"cached":{"MOTIVATION":["MOTIVATION"]}},"instructions":{"current":["MOTIVATION"],"cached":{"MOTIVATION":["MOTIVATION"]}}},"colorPickerIsOpen":false,"activePage":"EDITOR_PAGE","modalCount":0,"showCircleTileFlags":false},"sound":{"sounds":[{"volumeTics":[9,9,0,0,14,14,0,0,0,0,0,0,0,0,0,0,14,14,0,0,10,10,0,0,0,0,0,0,0,0,0,0],"pitchTics":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"arpTics":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2],"pitchScale":100,"wave":2,"useVolumeLoop":true,"volumeLoopStart":0,"volumeLoopEnd":31,"usePitchLoop":false,"pitchLoopStart":0,"pitchLoopEnd":31,"useArpLoop":true,"arpLoopStart":0,"arpLoopEnd":31,"name":"walk","releaseLength":1,"releaseMode":"linear","needToAddToAudioEngine":false},{"volumeTics":[15,11,9,6,4,1,15,15,15,6,9,9,9,15,8,8,8,2,4,1,15,1,1,1,3,4,6,8,15,15,15,15],"pitchTics":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"arpTics":[0,0,0,0,1,1,1,1,3,3,3,3,5,5,5,5,7,7,7,7,9,9,9,9,11,11,11,11,8,8,8,8],"pitchScale":100,"wave":1,"useVolumeLoop":false,"volumeLoopStart":0,"volumeLoopEnd":31,"usePitchLoop":false,"pitchLoopStart":0,"pitchLoopEnd":31,"useArpLoop":false,"arpLoopStart":0,"arpLoopEnd":31,"name":"start","releaseLength":10,"releaseMode":"linear","needToAddToAudioEngine":false}],"activeSound":1,"audioEvents":[],"piano":{"speed":0,"volume":0.75}},"palette":{"colors":["000000","0b0711","eaf2de","766e76","561f6e","7d4f31","e98c49","fbc0a0","f681b2","d83232","e3e962","65cf57","2ba957","187575","1e2cB0","2379e5","95cae5"],"selectedIndex":2,"altIndex":0},"pixelTools":{"selectedTool":"PENCIL_TOOL","selectedTileTool":"TILE_DRAW_TOOL","pixelToolSettings":{"pencilSize":1,"eraserSize":1,"lineSize":1}},"tileset":{"tilesets":[{"name":"untitled","width":8,"height":8,"selectedTile":60,"selectionWidth":1,"selectionHeight":1,"mapSelectedTile":36,"mapSelectionWidth":1,"mapSelectionHeight":1,"activeLayer":0,"layers":[{"isVisible":true,"data":"CwGgDCoIwjHSA7OStbPmgHFlBmNOEAmATn0JQQ1RiJJFIggCZYFX3Yi2oPi05CAx5dSovmk6SoE-r2hypIBY2YqQANlTk22mnoG6uh3J211QBcjG1YhaC0h2O0yGrbcgArI1cxkM39nUBtnexRtcgdkG3UotUi-KHjk1Oj1ZASILL8crRAcFEN3Z3NnUvLSrA8CtmQ6AQbKStd6ygJmxtbPdsbOygDC7QgYBG0+tAHGoZG0cY1A+ZQxtud+9Zbhla5ZVFBR3cxfQ5lGrAOBSVxQE+4uO5JQG+2IG1Aad7Lk56CG0JQ-zy61AwBYLCCwFwUDYWHUUNgsPh0KRKBRtFWMIxtDYihx2OguPuhMK6hIbF8e1uBJ8NN8eOpeIIlNgBBJcIoWLoQ18BAm5BZUDZiNJnN492QvIKvhZE2ZhGFWI5whF3OcUosMA1fm18roitRmC59xYEG1AoE2mp+quhvxaq1GgskstsDNTtQgoI5NFRvFe0dhjw2i9tt99vuUBlHvBtJtPuVYYdIY9QrjBRdNvZZNV9xTnjw7s8jqzIsTPrVeAtpaVOeNeyr6bTJLwbDNvH9MEboZ9rdpDQprJUJMpJDonfVHujhnzBSgs7TFYthj2vgsbF4wq6Brj3pFo7jG6HHwVbtzexdhkZc-lfOlp591LvWN8K8dlKPaaGoHF26Tx+cCsAOQElNy8H8vBtGwJzTekb1pEomz3LEnzqaMP1PWYNG-EUIJJPDzwYXJf0Kc8YEHN8ELqQcayJbUWHQwivGQIkUI0fD2KYoYWNI+tyNpO88GtACsT7aN6yI5xWKJaTUFkm1uI0dE1QoudlznEs6iQ-EWGpGdaXXZjOLY2SIIwxTYTIlR5RXd1n200C9IKFNDIsrxPwECChg84USIIcVJJ46DCC7actJ7VV3UMU0DNzZoiR4kifLk9zsM8tLkH8qZIM4xLkgnbsH0iqiJndQz2i8zZTOMmTD0WFKhn44KHWjO8WE0xcRTEucSImcDcJqlLzOcPqhmavMSsnNqOuQthutckaMvxAiTLqrCSOUiVJtwWV70MMLtAXHcaIKC0GhEGAdtceUBy08rUyPPpovykLh0m2dDoc1UTrTBaA0HdEIIYgbeFGGDhImYTm2+7S-vHWlNr3FjhqRs8+OIasRI7WGrJfHrsIYLKkp9MCuw0Ej-tewr4xh0M4f3fHSYEDyWJJocyZZyMYMxiwbIKKHZoZm16bx26FMA8mSXFzLsPhlT0wsVr8dffntIrH7nxggG4uZlRhpl3g5cjdSLCummuW1vYPtpXxNoNvWdaylIrKu6LMeh0TLb88n9d1530dd6iFfvWjPVdYHbdzIn3JR8nILBqn3Z3VCJmje6vwEAYWDZjPUf9gqBLnKK6hm-EDodtcRSZ6PvJzwm48ao29kHZ9i8M3anO0PUhxJtuz18MX2d1pKpaHmv1ibsndqgHn+49bvOot4PLyLhHHZ99fDas6me9p1Mrrt4ffadyeBDg6Hz+FS+w+gK-aGOlNBLX417eBl+-dPkhk6x+-lp-2-eL7TaH3eUh8ibHw0N4DC3VEYNykrHTmUCupe2ylnWOAwkGe2fgFOByMo64PWHaQeucCFvxwZzW6iZ06SSyhhA8PoDwYSZvbSh6gmFDnaE7EITETxAWhiBKuHCJa9TLGwriVV+okVHvbaRutR4Z3ipIrwGFEzDQUWgHBKtZFZW0YNaWGjsoqxUakd+-EOZLSPLo+Swi1oSPMUlSBoikjv0ejYqxEZ7a+1cZ4pxEAFqlAcTgoYXC8pk2CUtLhgVHG1mcRTXKpC0o0IsYkrwIS-ZXAkSeI8xjYn1Uqoo9x7j2ECLiTRO0-itI4XfjozetjiLKN8fjda-Vql6Jsb7Uak4Yn5CxH1e6K5vEij6Y0wGG9VqsKoOiRMCIsTZ2ccyIgMyNwEFOMKUazJ4RN01m9VZaxmhOFguoGK6Njn+m2cDQ4Xd1SLPhl-HSlwCzqjbJAbGYEpYOFBNddUKziDEJIAnKAQRVgAlqpKH5eA-lo14EC5IaVyD-MEJxbwPyWDEOLKxBFXIgjWFoJwYwtx6DsK-HLIIoMNDwrPACVY3h4TYxtOZUlZ4cVkrYGEI8YRQQfNeT-QFxQ0ZkEgFygaaY6UfNheKcg0BDgCnUDPKyczZm71mbK8VRhcWIppZMquzycUIu8M8pZvogA","format":"rc"}],"flags":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}],"activeIndex":0,"editorSelection":{"width":0,"height":0,"offsetX":0,"offsetY":0,"data":[],"isActive":false}},"tilemap":{"activeIndex":0,"tilemaps":[{"name":"untitled","width":12,"height":8,"activeLayer":0,"layers":[{"isVisible":true,"data":"IwGgzG7gLCoXGiwFYSzLebTVAJhBQHZEUAORPMgTislBNpEKdwfXiNNzsYAYyoRpUht0Haox5E6ANm6J8leIPZVhLSoXx9wg2OOhZ0C9bk1gz4GWD3QFYmRWbT6Gqieg5TZFbKJFc3Q+QRQ1ImAgA","format":"rc"}]}]},"project":{"tileSize":16,"name":"mynewgame","screen":{"width":192,"height":128,"scaleMode":1,"scale":3,"minScale":1,"maxScale":4,"horizontalScaleCushion":10,"verticalScaleCushion":10,"rescaleOnWindowResize":true},"misc":{"hideCursor":false,"clickToBegin":true,"startTransitionFrames":60,"useNegativeMotivation":false},"editorVersion":"2.5.0","instructions":{"gameDescription":"","action1":"","action2":"","action3":"","action4":"","leftTrigger":"","rightTrigger":"","left":"","right":"","up":"","down":"","pause":""},"tileFlagsAreLocked":false},"code":{"scripts":[{"text":"\n// Globals\nlet inp = null; // input\nlet scr = null; // screen\nlet aud = null; // audio\n\nconst player = {\n\tx: 90,\n\ty: 30,\n\tspeed: 0.5,\n\tisWalking: false,\n\tflip: 0,\n\tframesSinceWalkStart: 0\n}\n\nconst mushrooms = [\n\t{  \n\t\tx: 36,\n\t\ty: 30,\n\t\twasGrabbed: false\n\t},\n\t{  \n\t\tx: 130,\n\t\ty: 70,\n\t\twasGrabbed: false\n\t},\n\t\t{  \n\t\tx: 100,\n\t\ty: 65,\n\t\twasGrabbed: false\n\t}\n];\n\nlet numberOfGrabbedMushrooms = 0;\n\nlet randomColor = 1;\n\n// initialization\nengine.onInit = () => {\n\tinp = engine.input;\n\tscr = engine.screen;\n\taud = engine.audio;\n\t\n\tupdateColors();\n};\n\n\n// update loop\nengine.onUpdate = () => {\n  scr.clear( 1 );\n\n\tscr.drawMap(\n\t  0,      // originX on map\n\t  0,      // originY on map\n\t  -1,     // width\n\t  -1,     // height\n\t  0,      // screenX\n\t  0,      // screenY\n\t  0       // tilemap index\n\t);\n\t\n\tdrawMushrooms();\n\t\n\tupdatePlayer();\n\t\n\tlet textMainColor = 2;\n\tif ( numberOfGrabbedMushrooms > 0 ) {\n\t\ttextMainColor = randomColor;\n\t}\n\t\n\tlet textPositionOffset = 0;\n\tif ( numberOfGrabbedMushrooms > 1 ) {\n\t\ttextPositionOffset = Math.sin( engine.realTimeSinceGameStart * 10 ) * 8;\n\t}\n\t\n\tscr.drawText(\n\t\t'Welcome to my new game!!!',\n\t\t30,\n\t\t90 + Math.floor( textPositionOffset ),\n\t\ttextMainColor,\n\t\t1,\n\t\t0\n\t);\n};\n\nfunction drawMushrooms() {\n  mushrooms.forEach(mushroom => {\n    if (!mushroom.wasGrabbed) {\n      // Draw the regular mushroom\n      scr.drawTile(\n        61,  // the original mushroom tile GID\n        mushroom.x - 8, // center on the position\n        mushroom.y - 8, // center on the position\n        0  // no flip\n      );\n    } else {\n      // Mushroom was grabbed, draw a different sprite\n      scr.drawTile(\n        37,  // the new tile GID\n        mushroom.x - 8, // center on the position\n        mushroom.y - 8, // center on the position\n        0  // no flip\n      );\n    }\n  });\n}\n\n\nfunction updatePlayer() {\n\tlet newX = player.x;\n\tlet newY = player.y;\n\t\n\tlet isWalking = false;\n\tif ( inp.left.pressed ) {\n\t\tnewX -= player.speed;\n\t\tisWalking = true;\n\t\tplayer.flip = 1;\n\t}\n\telse if ( inp.right.pressed ) {\n\t\tnewX += player.speed;\n\t\tisWalking = true;\n\t\tplayer.flip = 0;\n\t}\n\t\n\tif ( inp.down.pressed ) {\n\t\tnewY -= player.speed;\n\t\tisWalking = true;\n\t}\n\telse if ( inp.up.pressed ) {\n\t\tnewY += player.speed;\n\t\tisWalking = true;\n\t}\n\t\n\tif ( isWalking ) {\n\t\tplayer.framesSinceWalkStart += 1;\n\t}\n\t\n\t// play or stop audio\n\tif ( isWalking && !player.isWalking ) {\n\t\t// started walking\n\t\tplayer.framesSinceWalkStart = 0;\n\t\t\n\t\tlet note = bitmelo.Notes.C4;\n\t\tif ( numberOfGrabbedMushrooms > 1 ) {\n\t\t\tnote = bitmelo.Notes.C2;\n\t\t}\n\t\telse if ( numberOfGrabbedMushrooms > 0 ) {\n\t\t\tnote = bitmelo.Notes.C3;\n\t\t}\n\t\t\n\t\taud.playInfiniteSound(\n\t\t\t0,\n\t\t\tnote,\n\t\t\t0.5,\n\t\t\t2\n\t\t);\n\t}\n\telse if ( !isWalking && player.isWalking ) {\n\t\t// stopped walking\n\t\taud.stopInfiniteSound( 0 );\n\t}\n\t\n\tplayer.isWalking = isWalking;\n\t\n\t// make sure we are not colliding with the fence\n\tif ( \n\t\tnewX >= 16\n\t\t&& newX < scr.width - 16\n\t\t&& newY >= 24\n\t\t&& newY < scr.height - 16\n\t) {\n\t\tplayer.x = newX;\n\t\tplayer.y = newY;\n\t}\n\t\n\t// check mushroom collisions\n\tfor ( let i = 0; i < mushrooms.length; i += 1 ) {\n\t\tconst mushroom = mushrooms[i];\n\t\tif ( !mushroom.wasGrabbed ) {\n\t\t\tconst deltaX = Math.abs( player.x - mushroom.x );\n\t\t\tconst deltaY= Math.abs( player.y - mushroom.y );\n\t\t\tconst distance = Math.sqrt( deltaX * deltaX + deltaY * deltaY );\n\t\t\t\n\t\t\t// player has grabbed a mushroom\n\t\t\tif ( distance <= 12 ) {\n\t\t\t\tmushroom.wasGrabbed = true;\n\t\t\t\tnumberOfGrabbedMushrooms += 1;\n\t\t\t\taud.playSound(\n\t\t\t\t\t1,\n\t\t\t\t\tbitmelo.Notes.E3,\n\t\t\t\t\t48,\n\t\t\t\t\t0.25,\n\t\t\t\t\t1\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// draw the player\n\tlet frameGID = 1;\n\tif ( player.isWalking ) {\n\t\tif ( player.framesSinceWalkStart % 16 < 8 ) {\n\t\t\tframeGID = 2;\n\t\t}\n\t\telse {\n\t\t\tframeGID = 3;\n\t\t}\n\t}\n\t\n\tscr.drawTile(\n\t\tframeGID,\n\t\tMath.floor( player.x ) - 8, // center the tile on the position\n\t\tMath.floor( player.y ) - 8, // center the tile on the position\n\t\tplayer.flip\n\t);\n}\n\nfunction updateColors() {\n\trandomColor = Math.floor( Math.random() * 16 ) + 1;\n\tsetTimeout( updateColors, 100 );\n}\n\n\n\n\n\n\n\n\n\n\n\n","cursorRow":111,"cursorColumn":1,"scrollTop":1255,"name":"Script0"}],"activeIndex":0,"playLogs":[]},"clipboard":{"pixels":{"width":0,"height":0,"offsetX":0,"offsetY":0,"data":[],"isActive":false}}}